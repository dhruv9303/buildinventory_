package com.example.buildinventory

import android.content.Intent
import android.os.Bundle
import android.widget.Button
import android.widget.TextView
import android.widget.Toast
import androidx.appcompat.app.AppCompatActivity
import com.google.android.material.textfield.TextInputEditText

class LoginActivity : AppCompatActivity() {

    lateinit var username: TextInputEditText
    lateinit var password: TextInputEditText
    lateinit var loginBtn: Button
    lateinit var signupText: TextView   // important

    lateinit var id: TextInputEditText

    override fun onCreate(savedInstanceState: Bundle?) {

        super.onCreate(savedInstanceState)

        setContentView(R.layout.activity_login)

        id = findViewById<TextInputEditText>(R.id.id)
        username = findViewById(R.id.username)
        password = findViewById(R.id.password)
        loginBtn = findViewById(R.id.loginBtn)

        signupText = findViewById(R.id.signupText)   // link signup text


        // Login click

        loginBtn.setOnClickListener {

            loginUser()

        }


        // ✅ Signup click open signup page

        signupText.setOnClickListener {

            startActivity(Intent(this, SignUpActivity::class.java))

        }

    }


    private fun loginUser() {

        val userid = id.text.toString()
        val user = username.text.toString()
        val pass = password.text.toString()

        if (userid == "user1" && user == "user1" && pass == "123") {

            Toast.makeText(this, "Login Successfully", Toast.LENGTH_SHORT).show()

            startActivity(Intent(this, HomeActivity::class.java))

            finish()   // ✅ add this line

        } else {

            Toast.makeText(this, "Invalid ID, Username or Password", Toast.LENGTH_SHORT).show()

        }

    }
}
